<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../theme.css">
    <title>Bridging Basic Chemistry and Cheminformatics: A Jupyter-based Module on Molecular Representation for Introductory Chemistry - Lesson Portal</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <!-- Replace this placeholder with your actual logo -->
                <img src="../../act-cms-logo.svg" alt="ACT-CMS Logo" class="logo" style="display: none;" onload="this.style.display='block'; this.nextElementSibling.style.display='none';">
            </div>
            <h1>ACT-CMS Lesson Portal</h1>
            <button class="theme-toggle" onclick="toggleTheme()" id="themeToggle">
                <svg class="theme-icon" id="themeIcon" viewBox="0 0 24 24">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
                <span id="themeText">Dark Mode</span>
            </button>
        </div>

        <div class="back-link">
                <a href="../../index.html" class="back-link">← Back to Lesson Portal</a>
        </div>

        <!-- Main layout with sidebar -->
        <div class="lesson-layout">
            <!-- Sidebar TOC -->
            <aside class="sidebar-toc" id="sidebarToc">
                <div class="toc-header">
                    <h3>Contents</h3>
                    <button class="toc-collapse" onclick="toggleSidebarTOC()" id="tocCollapseBtn">
                        <svg viewBox="0 0 24 24" width="16" height="16">
                            <path d="M15 18l-6-6 6-6"/>
                        </svg>
                    </button>
                </div>
                <nav class="toc-nav">
                    <a href="#overview" class="toc-link">Overview</a>
                    <div class="toc-submenu">
                        <a href="#scientific-objectives" class="toc-sublink">Scientific Objectives</a>
                        <a href="#cyberinfrastructure-objectives" class="toc-sublink">Cyberinfrastructure Objectives</a>
                    </div>
                    <a href="#prerequisites" class="toc-link">Prerequisites</a>
                    
                    <a href="#instructor-notes" class="toc-link">Instructor Notes</a>
                    
                    
                    <a href="#course-materials" class="toc-link">Course Materials</a>
                    <div class="toc-submenu">
                        
                        <a href="#material-1" class="toc-sublink">Chemistry Visualization</a>
                        
                        <a href="#material-2" class="toc-sublink">Conformers: Exploring Molecular Flexibility</a>
                        
                        <a href="#material-3" class="toc-sublink">Digital Chemistry Representations</a>
                        
                        <a href="#material-4" class="toc-sublink">Hybridisation in Chemistry</a>
                        
                        <a href="#material-5" class="toc-sublink">VSEPR and Molecular Geometry</a>
                        
                        <a href="#material-6" class="toc-sublink">Bond Types and Chemical Structure</a>
                        
                        <a href="#material-7" class="toc-sublink">Working with Chemistry Data</a>
                        
                        <a href="#material-8" class="toc-sublink">Introduction to Chemprop and Machine Learning</a>
                        
                    </div>
                    <a href="#platform-requirements" class="toc-link">Platform Requirements</a>
                </nav>
            </aside>

            <!-- Main content -->
            <main class="lesson-content">
                <div class="lesson-header">
                    <h1 class="lesson-title">Bridging Basic Chemistry and Cheminformatics: A Jupyter-based Module on Molecular Representation for Introductory Chemistry</h1>
                    <p class="lesson-summary">Students will learn how molecules are represented computationally and apply programming concepts to analyze and visualize molecular structures using Jupyter notebooks. The lesson builds foundational skills in cheminformatics and computational thinking for molecular science.</p>
                    
                    <div class="lesson-meta-grid">
                        <div class="meta-item">
                            <span class="meta-label">Programming Skill:</span>
                            <span class="meta-value">Beginner</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Primary Course:</span>
                            <span class="meta-value">General Chemistry</span>
                        </div>
                        
                        <div class="meta-item">
                            <span class="meta-label">Format:</span>
                            <span class="meta-value">Multi-Part Materials Module</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Authors:</span>
                            <span class="meta-value">Prof. Kevin P. Greenman</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Estimated Time:</span>
                            <span class="meta-value">2-3 hours</span>
                        </div>
                        
                        <div class="meta-item">
                            <span class="meta-label">Piloted with:</span>
                            <span class="meta-value">Undergraduate - First/Second Year</span>
                        </div>
                        
                        
                        <div class="meta-item">
                            <span class="meta-label">Students Tested:</span>
                            <span class="meta-value">15</span>
                        </div>
                        
                    </div>

                    <div class="lesson-tags">
                        
                        <span class="tag">python</span>
                        
                        <span class="tag">machine-learning</span>
                        
                        <span class="tag">visualization</span>
                        
                    </div>
                </div>

                <div class="content-section" id="overview">
                    <h2>Overview</h2>
                    
                        
                            
                            <p>This lesson introduces students to the fundamental ways molecules are represented in computational chemistry and cheminformatics, with a focus on practical skills using Jupyter notebooks. Students will explore how chemical structures are encoded as data (e.g., SMILES, InChI, and molecular graphs), and learn to manipulate and visualize these representations using Python.</p>
                            
                        
                            
                            <p>Designed for introductory chemistry students with beginner programming experience, the module bridges core chemical concepts with modern computational tools. Through hands-on activities, students will gain experience reading, interpreting, and generating molecular representations, and will use open-source libraries to analyze and visualize molecular structures.</p>
                            
                        
                            
                            <p>By the end of the lesson, students will understand the importance of molecular representations in computational science, be able to apply basic programming to chemical problems, and develop foundational skills for further study in cheminformatics and molecular modeling. This lesson supports the integration of computational thinking into general chemistry curricula and prepares students for more advanced topics in molecular science.</p>
                            
                        
                    

                    <div class="objectives-list" id="scientific-objectives">
                        <h4>Scientific Learning Objectives</h4>
                        <ul>
                            
                            <li>Predict the molecular geometry of simple molecules using Valence Shell Electron Pair Repulsion (VSEPR) theory</li>
                            
                            <li>Describe the concept of hybridization and determine the hybridization state of the central atom in molecules, correctly identifying sp, sp², sp³, sp³d, and sp³d² hybridizations</li>
                            
                            <li>Identify and differentiate between ionic and covalent bonds based on electronegativity differences and electron transfer/sharing mechanisms</li>
                            
                            <li>Translate between different representations of chemical structures (e.g., Lewis structures, SMILES, 3D models)</li>
                            
                            <li>Select and justify the most suitable chemical representation for a specific scientific or computational task</li>
                            
                        </ul>
                    </div>

                    <div class="objectives-list" id="cyberinfrastructure-objectives" style="margin-top: 16px;">
                        <h4>Cyberinfrastructure Learning Objectives</h4>
                        <ul>
                            
                            <li>Read and write chemical data in the form of SMILES strings and property values from CSV files using Pandas in Python</li>
                            
                            <li>Clean and visualize chemical datasets using Pandas, RDKit, and other Python libraries/operations</li>
                            
                            <li>Use GPU computing resources to train a basic Chemprop and other machine learning models</li>
                            
                            <li>Visualize results of machine learning regression using Matplotlib and Seaborn</li>
                            
                        </ul>
                    </div>
                </div>

                <div class="content-section" id="prerequisites">
                    <h2>Prerequisites</h2>
                    <div class="prereq-grid">
                        <div class="prereq-box scientific">
                            <h4>Scientific Prerequisites:</h4>
                            <ul>
                                
                                <li>High school level mathematics</li>
                                
                                <li>Basic understanding of scientific concepts</li>
                                
                            </ul>
                        </div>
                        
                        <div class="prereq-box programming">
                            <h4>Programming Prerequisites:</h4>
                            <ul>
                                
                                <li>Basic Python syntax (variables, loops, functions)</li>
                                
                            </ul>
                        </div>
                    </div>
                </div>

                
                <div class="content-section" id="instructor-notes">
                    <h2>Instructor Notes</h2>
                    <div class="instructor-notes">
                        <div>Additional context for instructors using this lesson:</p><p>• These materials are under development and will be first piloted in a course in Fall 2025.  <br></div>
                    </div>
                </div>
                

                

                <div class="content-section" id="course-materials">
                    <h2>Course Materials</h2>
                    
                    <div class="materials-list">
                        
                        <div class="material-item" id="material-1">
                            <div class="material-header">
                                
                                <svg class="material-type-icon" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                                
                                <h4 class="material-title">Chemistry Visualization</h4>
                            </div>
                            <p>Visualize chemical structures in 2D and 3D using Python tools. Learn to represent molecules graphically and understand the basics of cheminformatics visualization.</p>
                            <div class="material-actions">
                                
                                <div class="notebook-buttons">
                                    
                                    
                                    <a href="https://github.com/act-cms/molecular-representations/blob/main/1-chemistry_visualisation.ipynb" class="btn btn-secondary">View Notebook</a>
                                    
                                </div>
                                
                                <span class="duration">20 min</span>
                            </div>
                            
                            <button class="objectives-toggle" onclick="toggleObjectives(this)">Show Learning Objectives</button>
                            <div class="material-objectives collapsed">
                                <h5>Learning Objectives:</h5>
                                <ul>
                                    
                                    <li>Understand how to visualize molecules in 2D and 3D.</li>
                                    
                                    <li>Use Python libraries to display and manipulate chemical structures.</li>
                                    
                                </ul>
                            </div>
                            
                        </div>
                        
                        <div class="material-item" id="material-2">
                            <div class="material-header">
                                
                                <svg class="material-type-icon" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                                
                                <h4 class="material-title">Conformers: Exploring Molecular Flexibility</h4>
                            </div>
                            <p>Explore the concept of molecular conformers and how different conformations affect molecular properties. Generate and analyze conformers computationally.</p>
                            <div class="material-actions">
                                
                                <div class="notebook-buttons">
                                    
                                    
                                    <a href="https://github.com/act-cms/molecular-representations/blob/main/2-conformers.ipynb" class="btn btn-secondary">View Notebook</a>
                                    
                                </div>
                                
                                <span class="duration">20 min</span>
                            </div>
                            
                            <button class="objectives-toggle" onclick="toggleObjectives(this)">Show Learning Objectives</button>
                            <div class="material-objectives collapsed">
                                <h5>Learning Objectives:</h5>
                                <ul>
                                    
                                    <li>Define and generate molecular conformers.</li>
                                    
                                    <li>Analyze the impact of conformational changes on molecular properties.</li>
                                    
                                </ul>
                            </div>
                            
                        </div>
                        
                        <div class="material-item" id="material-3">
                            <div class="material-header">
                                
                                <svg class="material-type-icon" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                                
                                <h4 class="material-title">Digital Chemistry Representations</h4>
                            </div>
                            <p>Learn about digital representations of molecules, including SMILES and InChI. Practice converting between different formats and understand their computational uses.</p>
                            <div class="material-actions">
                                
                                <div class="notebook-buttons">
                                    
                                    
                                    <a href="https://github.com/act-cms/molecular-representations/blob/main/3-digital_chemistry_representations.ipynb" class="btn btn-secondary">View Notebook</a>
                                    
                                </div>
                                
                                <span class="duration">20 min</span>
                            </div>
                            
                            <button class="objectives-toggle" onclick="toggleObjectives(this)">Show Learning Objectives</button>
                            <div class="material-objectives collapsed">
                                <h5>Learning Objectives:</h5>
                                <ul>
                                    
                                    <li>Describe common digital representations for molecules.</li>
                                    
                                    <li>Convert between SMILES, InChI, and other formats.</li>
                                    
                                </ul>
                            </div>
                            
                        </div>
                        
                        <div class="material-item" id="material-4">
                            <div class="material-header">
                                
                                <svg class="material-type-icon" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                                
                                <h4 class="material-title">Hybridisation in Chemistry</h4>
                            </div>
                            <p>Investigate the concept of hybridisation and how it explains molecular geometry and bonding. Use computational tools to assign hybridisation states.</p>
                            <div class="material-actions">
                                
                                <div class="notebook-buttons">
                                    
                                    
                                    <a href="https://github.com/act-cms/molecular-representations/blob/main/4-hybridisation.ipynb" class="btn btn-secondary">View Notebook</a>
                                    
                                </div>
                                
                                <span class="duration">20 min</span>
                            </div>
                            
                            <button class="objectives-toggle" onclick="toggleObjectives(this)">Show Learning Objectives</button>
                            <div class="material-objectives collapsed">
                                <h5>Learning Objectives:</h5>
                                <ul>
                                    
                                    <li>Explain the concept of atomic hybridisation.</li>
                                    
                                    <li>Assign hybridisation states to atoms in molecules.</li>
                                    
                                </ul>
                            </div>
                            
                        </div>
                        
                        <div class="material-item" id="material-5">
                            <div class="material-header">
                                
                                <svg class="material-type-icon" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                                
                                <h4 class="material-title">VSEPR and Molecular Geometry</h4>
                            </div>
                            <p>Apply Valence Shell Electron Pair Repulsion (VSEPR) theory to predict and visualize molecular shapes.</p>
                            <div class="material-actions">
                                
                                <div class="notebook-buttons">
                                    
                                    
                                    <a href="https://github.com/act-cms/molecular-representations/blob/main/5-vsepr_geometry.ipynb" class="btn btn-secondary">View Notebook</a>
                                    
                                </div>
                                
                                <span class="duration">20 min</span>
                            </div>
                            
                            <button class="objectives-toggle" onclick="toggleObjectives(this)">Show Learning Objectives</button>
                            <div class="material-objectives collapsed">
                                <h5>Learning Objectives:</h5>
                                <ul>
                                    
                                    <li>Predict molecular geometry using VSEPR theory.</li>
                                    
                                    <li>Visualize 3D molecular shapes and relate them to electron pair arrangements.</li>
                                    
                                </ul>
                            </div>
                            
                        </div>
                        
                        <div class="material-item" id="material-6">
                            <div class="material-header">
                                
                                <svg class="material-type-icon" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                                
                                <h4 class="material-title">Bond Types and Chemical Structure</h4>
                            </div>
                            <p>Differentiate between ionic, covalent, and other bond types. Explore how bond types influence molecular properties and representations.</p>
                            <div class="material-actions">
                                
                                <div class="notebook-buttons">
                                    
                                    
                                    <a href="https://github.com/act-cms/molecular-representations/blob/main/6-bond_types.ipynb" class="btn btn-secondary">View Notebook</a>
                                    
                                </div>
                                
                                <span class="duration">20 min</span>
                            </div>
                            
                            <button class="objectives-toggle" onclick="toggleObjectives(this)">Show Learning Objectives</button>
                            <div class="material-objectives collapsed">
                                <h5>Learning Objectives:</h5>
                                <ul>
                                    
                                    <li>Identify and compare different types of chemical bonds.</li>
                                    
                                    <li>Relate bond types to molecular structure and reactivity.</li>
                                    
                                </ul>
                            </div>
                            
                        </div>
                        
                        <div class="material-item" id="material-7">
                            <div class="material-header">
                                
                                <svg class="material-type-icon" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                                
                                <h4 class="material-title">Working with Chemistry Data</h4>
                            </div>
                            <p>Read, clean, and visualize chemical datasets using Python. Learn to handle SMILES strings and property data for cheminformatics analysis.</p>
                            <div class="material-actions">
                                
                                <div class="notebook-buttons">
                                    
                                    
                                    <a href="https://github.com/act-cms/molecular-representations/blob/main/7-chemistry_data.ipynb" class="btn btn-secondary">View Notebook</a>
                                    
                                </div>
                                
                                <span class="duration">20 min</span>
                            </div>
                            
                            <button class="objectives-toggle" onclick="toggleObjectives(this)">Show Learning Objectives</button>
                            <div class="material-objectives collapsed">
                                <h5>Learning Objectives:</h5>
                                <ul>
                                    
                                    <li>Import and manipulate chemical data in Python.</li>
                                    
                                    <li>Visualize and analyze chemical datasets.</li>
                                    
                                </ul>
                            </div>
                            
                        </div>
                        
                        <div class="material-item" id="material-8">
                            <div class="material-header">
                                
                                <svg class="material-type-icon" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                                
                                <h4 class="material-title">Introduction to Chemprop and Machine Learning</h4>
                            </div>
                            <p>Train a basic Chemprop machine learning model on chemical data. Visualize regression results and understand the basics of molecular property prediction.</p>
                            <div class="material-actions">
                                
                                <div class="notebook-buttons">
                                    
                                    
                                    <a href="https://github.com/act-cms/molecular-representations/blob/main/8-chemprop_machine_learning.ipynb" class="btn btn-secondary">View Notebook</a>
                                    
                                </div>
                                
                                <span class="duration">30 min</span>
                            </div>
                            
                            <button class="objectives-toggle" onclick="toggleObjectives(this)">Show Learning Objectives</button>
                            <div class="material-objectives collapsed">
                                <h5>Learning Objectives:</h5>
                                <ul>
                                    
                                    <li>Train a simple machine learning model for molecular property prediction.</li>
                                    
                                    <li>Interpret and visualize model results using Python tools.</li>
                                    
                                </ul>
                            </div>
                            
                        </div>
                        
                    </div>
                    
                    <h3 style="margin-top: 32px;">Student Repository</h3>
                    <div class="materials-grid">
                        <div class="material-card">
                            <h4>Complete Student Materials</h4>
                            <p>Download or clone the complete repository with all notebooks, datasets, and supporting files.</p>
                            <a href="https://github.com/act-cms/molecular-representations" class="btn btn-primary">
                                View Repository
                            </a>
                        </div>
                    </div>
                    
                    <h3 style="margin-top: 32px;">Instructor Materials</h3>
                    <div class="materials-grid">
                        <div class="material-card">
                            <h4>Complete Instructor Package</h4>
                            <p>Solutions for all notebooks, teaching notes, assessment rubrics, and additional examples.</p>
                            <a href="https://github.com/act-cms/instructor-materials/tree/main/molecular-representations" class="btn btn-secondary">
                                Instructor Resources
                            </a>
                            <p class="access-note">
                                Requires instructor verification. 
                                <a href="mailto:kgreenman@catholic.tech?subject=Instructor Access Request&body=Please include:%0A- Your name and institution%0A- Your GitHub username%0A- Courses you teach%0A%0APlease send from your academic email address.">Request access</a> 
                                if you don't have permission.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="content-section" id="platform-requirements">
                    <h2>Platform Requirements</h2>
                    
                    <div class="platform-options">
                        
                        
                        
                        <div class="platform-card recommended">
                            <h4>Local Installation (Recommended)</h4>
<p>For advanced users who prefer local development environments.</p>
<ul>
    <li>Requires conda package manager</li>
    <li>Environment setup via provided environment.yml file</li>
    <li>Full control over computing environment</li>
    <li>Works offline once dependencies are installed</li>
    <li>Can customize package versions and configurations</li>
</ul>
                        </div>
                        
                        
                    </div>
                </div>
            </main>
        </div>

        <footer class="footer">
            <p>Accelerating Curricular Transformation in the Computational Molecular Sciences (ACT-CMS) is a project of The Molecular Sciences Software Institute</p>
            <p>ACT-CMS is supported by NSF OAC 2321044 and 2321045.</p>
        </footer>
    </div>

    <script>
        // Theme management
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('themeIcon');
            const themeText = document.getElementById('themeText');
            
            body.classList.toggle('dark-theme');
            
            if (body.classList.contains('dark-theme')) {
                // Sun icon for light mode toggle
                themeIcon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>';
                themeText.textContent = 'Light Mode';
                localStorage.setItem('theme', 'dark');
            } else {
                // Moon icon for dark mode toggle
                themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
                themeText.textContent = 'Dark Mode';
                localStorage.setItem('theme', 'light');
            }
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                document.getElementById('themeIcon').innerHTML = '<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>';
                document.getElementById('themeText').textContent = 'Light Mode';
            }
        }

        // Sidebar TOC functions
        function toggleSidebarTOC() {
            const sidebar = document.getElementById('sidebarToc');
            const btn = document.getElementById('tocCollapseBtn');
            
            sidebar.classList.toggle('collapsed');
            
            if (sidebar.classList.contains('collapsed')) {
                btn.innerHTML = '<svg viewBox="0 0 24 24" width="16" height="16"><path d="M9 18l6-6-6-6"/></svg>';
            } else {
                btn.innerHTML = '<svg viewBox="0 0 24 24" width="16" height="16"><path d="M15 18l-6-6 6-6"/></svg>';
            }
        }

        // Highlight active section in TOC
        function highlightActiveTOCSection() {
            const sections = document.querySelectorAll('.content-section, .material-item');
            const tocLinks = document.querySelectorAll('.toc-link, .toc-sublink');
            
            let currentSection = '';
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= 100 && rect.bottom >= 100) {
                    currentSection = section.id;
                }
            });
            
            tocLinks.forEach(link => {
                const href = link.getAttribute('href');
                if (href === `#${currentSection}`) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }

        // Toggle objectives function
        function toggleObjectives(button) {
            const objectives = button.nextElementSibling;
            const isCollapsed = objectives.classList.contains('collapsed');
            
            if (isCollapsed) {
                objectives.classList.remove('collapsed');
                button.textContent = 'Hide Learning Objectives';
            } else {
                objectives.classList.add('collapsed');
                button.textContent = 'Show Learning Objectives';
            }
        }

        // Initialize
        loadTheme();
        
        // Add scroll listener for TOC highlighting
        window.addEventListener('scroll', highlightActiveTOCSection);
        
        // Initial TOC highlight
        highlightActiveTOCSection();
    </script>
</body>
</html>